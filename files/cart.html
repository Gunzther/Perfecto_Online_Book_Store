<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/cssFiles/cart-style.css" />
    <link rel="stylesheet" href="/cssFiles/shopping-cart.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
      <h1>Shopping Cart</h1>
      <br />
      <div class="shopping-cart">
        <div class="column-labels">
          <label class="product-details">Product</label>
          <label class="product-price">Price</label>
          <label class="product-quantity">Quantity</label>
          <label class="product-removal">Remove</label>
          <label class="product-line-price">Total</label>
        </div>

        <div class="product">
          <div class="product-details">
            <div class="product-title">Dingo Dog Bones</div>
          </div>
          <div class="product-price">12.99</div>
          <div class="product-quantity">
            <input type="number" value="2" min="1" />
          </div>
          <div class="product-removal">
            <button class="remove-product">
              Remove
            </button>
          </div>
          <div class="product-line-price">25.98</div>
        </div>

        <div class="product">
          <div class="product-details">
            <div class="product-title">
              Nutroâ„¢ Adult Lamb and Rice Dog Food
            </div>
          </div>
          <div class="product-price">45.99</div>
          <div class="product-quantity">
            <input type="number" value="1" min="1" />
          </div>
          <div class="product-removal">
            <button class="remove-product">
              Remove
            </button>
          </div>
          <div class="product-line-price">45.99</div>
        </div>

        <div class="totals">
          <div class="totals-item">
            <label>Subtotal</label>
            <div class="totals-value" id="cart-subtotal">71.97</div>
          </div>
          <div class="totals-item">
            <label>Tax (5%)</label>
            <div class="totals-value" id="cart-tax">3.60</div>
          </div>
          <div class="totals-item">
            <label>Shipping</label>
            <div class="totals-value" id="cart-shipping">15.00</div>
          </div>
          <div class="totals-item totals-item-total">
            <label>Grand Total</label>
            <div class="totals-value" id="cart-total">90.57</div>
          </div>
      </div>
    </div>
  </div>
    <div class="row">
      <div class="col-75">
          <form action="/cart_fin" method="POST">
            <div class="row">
              <div class="col-50">
                <h3>Billing Address</h3>
                <label for="fname"><i class="fa fa-user"></i> First Name</label>
                <input
                  type="text"
                  id="fname"
                  name="create_first_name"
                  placeholder="Please input your Firstname"
                  required
                />
                <label for="lname"><i class="fa fa-user"></i> Last Name </label>
                <input
                  type="text"
                  id="lname"
                  name="create_last_name"
                  placeholder="Please input your Lastname"
                  required
                />
                <label for="age"><i class="fa fa-heart-o"></i> Age </label>
                <input
                  type="int"
                  id="age"
                  name="create_age"
                  placeholder="Please input age"
                  required
                />

                <label for="gender"
                  ><i class="fa fa-venus-mars"></i> Gender
                </label>
                <select name="create_gender">
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>

                <label for="adr"
                  ><i class="fa fa-address-card-o"></i> Address</label
                >
                <input
                  type="text"
                  id="adr"
                  name="create_address"
                  placeholder="Please input your address"
                  required
                />
                <label for="city"><i class="fa fa-institution"></i> City</label>
                <input
                  type="text"
                  id="city"
                  name="create_city"
                  placeholder="Please input your city"
                  required
                />

                <div class="row">
                  <div class="col-50">
                    <label for="zip">Zip</label>
                    <input
                      type="text"
                      id="zip"
                      name="create_zip"
                      placeholder="Please input your zip code"
                      required
                    />
                  </div>
                  <div class="col-50">
                    <label for="state">Country</label>
                    <input
                      type="text"
                      id="country"
                      name="create_country"
                      placeholder="Please input your country"
                      required
                    />
                  </div>
                </div>
              </div>

              <div class="col-50">
                <h3>Payment</h3>
                <label for="fname">Accepted Cards</label>
                <div class="icon-container">
                  <i class="fa fa-cc-visa" style="color:navy;"></i>
                  <i class="fa fa-cc-amex" style="color:blue;"></i>
                  <i class="fa fa-cc-mastercard" style="color:red;"></i>
                  <i class="fa fa-cc-discover" style="color:orange;"></i>
                </div>
                <label for="cname">Name on Card</label>
                <input
                  type="text"
                  id="cname"
                  name="cardname"
                  placeholder="Please input card holder name"
                />
                <label for="ccnum">Credit card number</label>
                <input
                  type="text"
                  id="ccnum"
                  name="cardnumber"
                  placeholder="Please input your credit card number"
                />
                <label for="expmonth">Exp Month</label>
                <input
                  type="text"
                  id="expmonth"
                  name="expmonth"
                  placeholder="Please input expired month"
                />
                <div class="row">
                  <div class="col-50">
                    <label for="expyear">Exp Year</label>
                    <input
                      type="text"
                      id="expyear"
                      name="expyear"
                      placeholder="Please input expired year"
                    />
                  </div>
                  <div class="col-50">
                    <label for="cvv">CVV</label>
                    <input
                      type="text"
                      id="cvv"
                      name="cvv"
                      placeholder="Please your card's cvv"
                    />
                  </div>
                </div>
              </div>
            </div>
            <label>
              <input type="checkbox" checked="checked" name="sameadr" />
              Shipping address same as billing
            </label>
            <input type="submit" value="Continue to checkout" class="btn" />
          </form>
      </div>
      <script>
        /* Set rates + misc */
        var taxRate = 0.05;
        var shippingRate = 15.0;
        var fadeTime = 300;

        /* Assign actions */
        $(".product-quantity input").change(function() {
          updateQuantity(this);
        });

        $(".product-removal button").click(function() {
          removeItem(this);
        });

        /* Recalculate cart */
        function recalculateCart() {
          var subtotal = 0;

          /* Sum up row totals */
          $(".product").each(function() {
            subtotal += parseFloat(
              $(this)
                .children(".product-line-price")
                .text()
            );
          });

          /* Calculate totals */
          var tax = subtotal * taxRate;
          var shipping = subtotal > 0 ? shippingRate : 0;
          var total = subtotal + tax + shipping;

          /* Update totals display */
          $(".totals-value").fadeOut(fadeTime, function() {
            $("#cart-subtotal").html(subtotal.toFixed(2));
            $("#cart-tax").html(tax.toFixed(2));
            $("#cart-shipping").html(shipping.toFixed(2));
            $("#cart-total").html(total.toFixed(2));
            if (total == 0) {
              $(".checkout").fadeOut(fadeTime);
            } else {
              $(".checkout").fadeIn(fadeTime);
            }
            $(".totals-value").fadeIn(fadeTime);
          });
        }

        /* Update quantity */
        function updateQuantity(quantityInput) {
          /* Calculate line price */
          var productRow = $(quantityInput)
            .parent()
            .parent();
          var price = parseFloat(productRow.children(".product-price").text());
          var quantity = $(quantityInput).val();
          var linePrice = price * quantity;

          /* Update line price display and recalc cart totals */
          productRow.children(".product-line-price").each(function() {
            $(this).fadeOut(fadeTime, function() {
              $(this).text(linePrice.toFixed(2));
              recalculateCart();
              $(this).fadeIn(fadeTime);
            });
          });
        }

        /* Remove item from cart */
        function removeItem(removeButton) {
          /* Remove row from DOM and recalc cart total */
          var productRow = $(removeButton)
            .parent()
            .parent();
          productRow.slideUp(fadeTime, function() {
            productRow.remove();
            recalculateCart();
          });
        }
      </script>

      
  </body>
</html>
